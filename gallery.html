<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Gallery | Best Preschool in Kumaraswamy Layout | Rainz Pre School</title>
    <!-- SEO Setup -->
    <meta name="description"
        content="View our vibrant gallery of happy children, smart classrooms, and fun events at Rainz Pre School, Bengaluru.">
    <meta name="keywords" content="Rainz preschool photos, Activity gallery, Kumaraswamy Layout play school pictures">
    <meta property="og:title" content="Photo Gallery | Rainz Pre School">
    <meta property="og:description" content="Explore our campus, activities, and events in our online gallery.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .page-header {
            background: linear-gradient(rgba(247, 250, 252, 0.9), rgba(247, 250, 252, 0.9)), url('https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&w=1920&q=80') center/cover;
            padding: 80px 0;
            text-align: center;
            border-bottom: 5px solid var(--color-primary);
        }

        .page-title {
            font-size: 3rem;
            color: var(--color-secondary);
            margin-bottom: 10px;
        }

        .breadcrumb {
            color: var(--color-text-muted);
            font-weight: 600;
        }

        .breadcrumb a {
            color: var(--color-text-dark);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .gallery-item {
            position: relative;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            aspect-ratio: 4/3;
            cursor: pointer;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            color: var(--color-white);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
            text-align: center;
            padding: 20px;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-overlay h3 {
            margin-bottom: 5px;
            font-family: var(--font-heading);
        }
    </style>
</head>

<body>

    <header class="header">
        <div class="container nav-container">
            <div class="logo">
                <a href="index.html">
                    <i class="fas fa-sun" style="color: var(--color-primary); font-size: 1.5rem;"></i>
                    Rainz <span>Pre School</span>
                </a>
            </div>
            <button class="menu-toggle" aria-label="Toggle navigation"><i class="fas fa-bars"></i></button>
            <nav class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="programs.html">Programs</a>
                <a href="facilities.html">Facilities</a>
                <a href="gallery.html" class="active">Gallery</a>
                <a href="blog.html">Blog</a>
                <a href="admissions.html" class="btn btn-primary" style="color: #333;">Admissions</a>
            </nav>
        </div>
    </header>

    <div class="page-header">
        <div class="container">
            <h1 class="page-title">Photo Gallery</h1>
            <div class="breadcrumb">
                <a href="index.html">Home</a> <i class="fas fa-chevron-right"
                    style="font-size: 0.8rem; margin: 0 10px;"></i> Gallery
            </div>
        </div>
    </div>

    <main class="container section">
        <div class="section-title">Glimpses of Joy</div>
        <p class="section-subtitle">Take a peek into the vibrant and happy life at Rainz Pre School.</p>

        <div class="gallery-grid" id="publicGalleryGrid">
            <div style="text-align:center; grid-column: 1 / -1; padding: 50px;">
                <i class="fas fa-spinner fa-spin fa-2x"></i><br>Loading Gallery...
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <h3><i class="fas fa-sun" style="color: var(--color-primary);"></i> Rainz Pre School</h3>
                <p>A trusted, premium preschool in Bengaluru dedicated to laying the ultimate foundation for your
                    child's continuous learning and growth.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">&copy; 2026 Rainz Pre School. All rights reserved.</div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script>
        const API_URL = 'https://rainz-backend.onrender.com/api';

        async function loadGallery() {
            try {
                const res = await fetch(`${API_URL}/gallery`);
                const images = await res.json();
                const grid = document.getElementById('publicGalleryGrid');

                if (images.length === 0) {
                    // Fallback static images if database is empty
                    grid.innerHTML = `
                        <div class="gallery-item"><img src="https://images.unsplash.com/photo-1545607383-e18e8590d9ec?auto=format&fit=crop&w=800&q=80" alt="Children playing"><div class="gallery-overlay"><h3>Children Playing</h3></div></div>
                        <div class="gallery-item"><img src="https://images.unsplash.com/photo-1516627145497-ae6968895b74?auto=format&fit=crop&w=800&q=80" alt="Art and Craft"><div class="gallery-overlay"><h3>Art & Craft</h3></div></div>
                    `;
                    return;
                }

                images.sort((a, b) => new Date(b.uploadDate) - new Date(a.uploadDate));
                grid.innerHTML = images.map(img => `
                    <div class="gallery-item">
                        <img src="${img.imageUrl}" alt="${img.caption || 'Gallery Image'}">
                        <div class="gallery-overlay">
                            <div>
                                <h3>${img.caption || 'Rainz Pre School'}</h3>
                                <i class="fas fa-search-plus"></i>
                            </div>
                        </div>
                    </div>
                `).join('');

            } catch (err) {
                console.error(err);
                document.getElementById('publicGalleryGrid').innerHTML = '<p style="text-align:center; grid-column: 1/-1;">Error loading gallery images.</p>';
            }
        }

        loadGallery();
    </script>
</body>

</html>